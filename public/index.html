<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Eva's Weekly Calendar</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="index.html" class="logo-link">
                <div class="site-logo">
                    <i class="fas fa-calendar-alt logo-icon"></i>
                    <div class="logo-text-container">
                        <span class="logo-text">Eva's Calendar</span>
                        <span class="logo-tagline">Weekly Planner</span>
                    </div>
                </div>
            </a>
            
            <button class="mobile-menu-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link" id="emailPlanBtn">
                        <i class="fas fa-envelope"></i> Send Plan
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" id="downloadPdfBtn">
                        <i class="fas fa-file-pdf"></i> Download PDF
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- Week Tabs -->
        <div class="week-tabs-container">
            <button class="tab-scroll-btn left" id="scrollTabsLeft">
                <i class="fas fa-chevron-left"></i>
            </button>
            <div class="week-tabs" id="weekTabs">
                <!-- Week tabs will be generated by JavaScript -->
            </div>
            <button class="tab-scroll-btn right" id="scrollTabsRight">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>

        <!-- People/Activities Pool -->
        <div class="people-pool">
            <h3><i class="fas fa-users"></i> Drag people to the calendar</h3>
            <div class="people-chips" id="peopleChips">
                <div class="person-chip" draggable="true" data-person="Mum">
                    <span class="chip-text">Mum</span>
                </div>
                <div class="person-chip" draggable="true" data-person="Dad">
                    <span class="chip-text">Dad</span>
                </div>
                <div class="person-chip" draggable="true" data-person="Megan">
                    <span class="chip-text">Megan</span>
                </div>
                <div class="person-chip" draggable="true" data-person="EDS">
                    <span class="chip-text">EDS</span>
                </div>
                <div class="person-chip" draggable="true" data-person="Lisa">
                    <span class="chip-text">Lisa</span>
                </div>
                <div class="person-chip" draggable="true" data-person="Granny">
                    <span class="chip-text">Granny</span>
                </div>
                <div class="person-chip custom-chip" id="customChip">
                    <input type="text" class="custom-input" placeholder="Custom..." id="customInput">
                    <button class="add-custom-btn" id="addCustomBtn">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Calendar Grid -->
        <div class="calendar-wrapper">
            <table class="calendar-grid" id="calendarGrid">
                <thead>
                    <tr>
                        <th class="time-header">Time</th>
                        <th class="day-header">Mon</th>
                        <th class="day-header">Tue</th>
                        <th class="day-header">Wed</th>
                        <th class="day-header">Thu</th>
                        <th class="day-header">Fri</th>
                        <th class="day-header">Sat</th>
                        <th class="day-header">Sun</th>
                    </tr>
                </thead>
                <tbody id="calendarBody">
                    <!-- Calendar slots will be generated by JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Repeat Week Section -->
        <div class="repeat-section">
            <h3><i class="fas fa-copy"></i> Copy This Week</h3>
            <p>Apply this week's schedule to future weeks:</p>
            <div class="repeat-controls">
                <label for="repeatWeeks">Number of weeks to copy:</label>
                <input type="number" id="repeatWeeks" min="1" max="52" value="4">
                <button class="btn primary-btn" id="repeatBtn">
                    <i class="fas fa-clone"></i> Apply to Following Weeks
                </button>
            </div>
        </div>

        <!-- Email Section -->
        <div class="email-section">
            <h3><i class="fas fa-envelope"></i> Email Settings</h3>
            <div class="email-info">
                <p><i class="fas fa-info-circle"></i> Automatic emails are scheduled:</p>
                <ul>
                    <li><strong>Saturday 9:00 AM GMT:</strong> Proposed plan for next week</li>
                    <li><strong>Sunday 12:00 PM GMT:</strong> Final PDF of the week's plan</li>
                </ul>
            </div>
            <div class="manual-email">
                <h4>Send Calendar Manually</h4>
                <div class="email-form">
                    <input type="email" id="emailRecipient" placeholder="Enter email address...">
                    <button class="btn primary-btn" id="sendEmailBtn">
                        <i class="fas fa-paper-plane"></i> Send
                    </button>
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-content">
                <p>Â© 2026 Eva's Calendar. Weekly scheduling made simple.</p>
            </div>
        </footer>
    </div>

    <!-- Email Modal -->
    <div class="modal-overlay" id="emailModal">
        <div class="modal">
            <button class="modal-close" id="closeEmailModal">&times;</button>
            <h2><i class="fas fa-envelope"></i> Send Weekly Plan</h2>
            <p>Enter the email address to send the current week's plan:</p>
            <form class="modal-form" id="emailForm">
                <input type="email" class="modal-input" id="modalEmailInput" placeholder="email@example.com" required>
                <button type="submit" class="btn primary-btn">
                    <i class="fas fa-paper-plane"></i> Send Plan
                </button>
            </form>
            <div class="modal-success" id="emailSuccess" style="display: none;">
                <i class="fas fa-check-circle"></i>
                <h3>Email Sent!</h3>
                <p>The weekly plan has been sent successfully.</p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

